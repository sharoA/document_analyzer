# ğŸ“ æç¤ºè¯æ¨¡æ¿ç›®å½•

è¿™ä¸ªç›®å½•åŒ…å«äº†LangGraphç¼–ç æ™ºèƒ½ä½“é¡¹ç›®çš„æ‰€æœ‰æç¤ºè¯æ¨¡æ¿æ–‡ä»¶ã€‚

## ğŸ—ï¸ æ–‡ä»¶ç»“æ„

### ä¸»è¦æç¤ºè¯æ¨¡æ¿ï¼ˆè¯¦ç»†ç‰ˆï¼‰
- `requirements_analysis_prompts.jinja2` - éœ€æ±‚åˆ†æä¸“å®¶æç¤ºè¯
- `design_analysis_prompts.jinja2` - ç³»ç»Ÿæ¶æ„åˆ†æä¸“å®¶æç¤ºè¯
- `service_boundary_prompts.jinja2` - å¾®æœåŠ¡è¾¹ç•Œåˆ’åˆ†ä¸“å®¶æç¤ºè¯
- `dependency_analysis_prompts.jinja2` - æœåŠ¡ä¾èµ–å…³ç³»åˆ†æä¸“å®¶æç¤ºè¯
- `task_scheduling_prompts.jinja2` - ä»»åŠ¡æ‰§è¡Œè®¡åˆ’åˆ¶å®šä¸“å®¶æç¤ºè¯
- `service_analysis_prompts.jinja2` - å¾®æœåŠ¡éœ€æ±‚åˆ†æä¸“å®¶æç¤ºè¯
- `code_generation_prompts.jinja2` - Spring Bootä»£ç ç”Ÿæˆä¸“å®¶æç¤ºè¯
- `api_design_prompts.jinja2` - RESTful APIè®¾è®¡ä¸“å®¶æç¤ºè¯

### é»˜è®¤æç¤ºè¯æ¨¡æ¿ç›®å½•ï¼ˆç®€åŒ–ç‰ˆï¼‰
`default/` ç›®å½•åŒ…å«æ‰€æœ‰åŠŸèƒ½å¯¹åº”çš„ç®€åŒ–ç‰ˆé»˜è®¤æç¤ºè¯ï¼š

#### ä»»åŠ¡æ‹†åˆ†èŠ‚ç‚¹é»˜è®¤æç¤ºè¯
- `default/requirements_analysis_default_prompts.jinja2` - éœ€æ±‚åˆ†æé»˜è®¤æç¤ºè¯
- `default/design_analysis_default_prompts.jinja2` - è®¾è®¡åˆ†æé»˜è®¤æç¤ºè¯
- `default/service_boundary_default_prompts.jinja2` - æœåŠ¡è¾¹ç•Œè¯†åˆ«é»˜è®¤æç¤ºè¯
- `default/dependency_analysis_default_prompts.jinja2` - ä¾èµ–åˆ†æé»˜è®¤æç¤ºè¯
- `default/task_scheduling_default_prompts.jinja2` - ä»»åŠ¡è°ƒåº¦é»˜è®¤æç¤ºè¯

#### æ™ºèƒ½ç¼–ç èŠ‚ç‚¹é»˜è®¤æç¤ºè¯
- `default/service_analysis_default_prompts.jinja2` - æœåŠ¡åˆ†æé»˜è®¤æç¤ºè¯
- `default/code_generation_default_prompts.jinja2` - ä»£ç ç”Ÿæˆé»˜è®¤æç¤ºè¯
- `default/api_design_default_prompts.jinja2` - APIè®¾è®¡é»˜è®¤æç¤ºè¯

## ğŸ”§ è®¾è®¡åŸåˆ™

### 1. å•ä¸€èŒè´£åŸåˆ™
æ¯ä¸ªæ¨¡æ¿æ–‡ä»¶åªè´Ÿè´£ä¸€ä¸ªç‰¹å®šçš„åŠŸèƒ½ï¼Œä¾¿äºç»´æŠ¤å’Œå¤ç”¨ã€‚

### 2. æ¨¡å—åŒ–è®¾è®¡
- **é«˜å†…èš**ï¼šç›¸å…³çš„æç¤ºè¯æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­
- **ä½è€¦åˆ**ï¼šä¸åŒåŠŸèƒ½çš„æç¤ºè¯åˆ†ç¦»åˆ°ç‹¬ç«‹æ–‡ä»¶
- **æ˜“æ‰©å±•**ï¼šå¯ä»¥æ–¹ä¾¿åœ°æ·»åŠ æ–°çš„æç¤ºè¯ç±»å‹

### 3. ä¸‰çº§åŠ è½½æœºåˆ¶
```
ä¼˜å…ˆçº§ï¼šä¸“é—¨æ¨¡æ¿ > å¯¹åº”é»˜è®¤æ¨¡æ¿ > å†…ç½®æ¨¡æ¿
1. ä¸“é—¨æç¤ºè¯æ¨¡æ¿ï¼ˆè¯¦ç»†ç‰ˆï¼Œç‹¬ç«‹åŠŸèƒ½æ–‡ä»¶ï¼‰
2. å¯¹åº”é»˜è®¤æç¤ºè¯æ¨¡æ¿ï¼ˆç®€åŒ–ç‰ˆï¼Œdefault/ç›®å½•ä¸­çš„ç‹¬ç«‹æ–‡ä»¶ï¼‰
3. å†…ç½®æç¤ºè¯æ¨¡æ¿ï¼ˆæœ€åå¤‡é€‰ï¼Œä»£ç ä¸­ç¡¬ç¼–ç ï¼‰
```

### 4. ç›®å½•å±‚æ¬¡åˆ†ç¦»
- **ä¸»ç›®å½•**ï¼šå­˜æ”¾è¯¦ç»†çš„ä¸“é—¨åŠŸèƒ½æ¨¡æ¿
- **default/ å­ç›®å½•**ï¼šå­˜æ”¾ç®€åŒ–çš„é»˜è®¤æ¨¡æ¿
- **ä»£ç ä¸­çš„å†…ç½®æ¨¡æ¿**ï¼šæœ€åçš„å¤‡é€‰æ–¹æ¡ˆ

## ğŸ“š æ¨¡æ¿ä½¿ç”¨è¯´æ˜

### Jinja2å®å®šä¹‰è§„èŒƒ
```jinja2
{# æ–‡ä»¶æè¿°æ³¨é‡Š #}

{% macro prompt_name(param1, param2) %}
# ä¸“å®¶è§’è‰²

å…·ä½“çš„æç¤ºè¯å†…å®¹...

### å‚æ•°1
{{ param1 }}

### å‚æ•°2
{{ param2 }}

## è¾“å‡ºè¦æ±‚
å…·ä½“çš„è¾“å‡ºæ ¼å¼è¦æ±‚...
{% endmacro %}
```

### ä»£ç ä¸­çš„è°ƒç”¨æ–¹å¼
```python
# è·å–æ¸²æŸ“åçš„æç¤ºè¯
prompt = prompt_manager.get_prompt("prompt_type", 
                                 param1="value1", 
                                 param2="value2")
```

## ğŸ¯ æ¨¡æ¿å†…å®¹è§„èŒƒ

### 1. ä¸“å®¶è§’è‰²å®šä¹‰
æ¯ä¸ªæç¤ºè¯éƒ½åº”è¯¥æ˜ç¡®å®šä¹‰AIçš„ä¸“å®¶è§’è‰²å’Œä¸“ä¸šèƒ½åŠ›ã€‚

### 2. ä»»åŠ¡æè¿°æ¸…æ™°
è¯¦ç»†è¯´æ˜è¦å®Œæˆçš„å…·ä½“ä»»åŠ¡å’Œåˆ†æè¦ç‚¹ã€‚

### 3. è¾“å…¥å‚æ•°æ˜ç¡®
é€šè¿‡Jinja2å˜é‡æ˜ç¡®æ ‡è¯†æ‰€æœ‰è¾“å…¥å‚æ•°ã€‚

### 4. è¾“å‡ºæ ¼å¼è§„èŒƒ
ä½¿ç”¨JSON Schemaæˆ–æ˜ç¡®çš„æ ¼å¼è¦æ±‚å®šä¹‰è¾“å‡ºç»“æ„ã€‚

### 5. ç¤ºä¾‹å®Œæ•´
æä¾›è¶³å¤Ÿçš„ç¤ºä¾‹å¸®åŠ©AIç†è§£æœŸæœ›çš„è¾“å‡ºæ ¼å¼ã€‚

## ğŸš€ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°çš„æç¤ºè¯ç±»å‹
1. åˆ›å»ºæ–°çš„`åŠŸèƒ½_prompts.jinja2`æ–‡ä»¶ï¼ˆä¸»æ¨¡æ¿ï¼‰
2. åˆ›å»ºå¯¹åº”çš„`default/åŠŸèƒ½_default_prompts.jinja2`æ–‡ä»¶ï¼ˆé»˜è®¤æ¨¡æ¿ï¼‰
3. åœ¨å¯¹åº”çš„èŠ‚ç‚¹ç±»ä¸­æ·»åŠ æ¨¡æ¿æ–‡ä»¶æ˜ å°„
4. å®ç°`å®å_prompt`å®å‡½æ•°
5. æ›´æ–°å†…ç½®æ¨¡æ¿ï¼ˆå¯é€‰ï¼‰

### ä¿®æ”¹ç°æœ‰æç¤ºè¯
1. ä¼˜å…ˆç¼–è¾‘ä¸»æ¨¡æ¿æ–‡ä»¶ï¼ˆè¯¦ç»†ç‰ˆï¼‰
2. å¯é€‰æ‹©æ€§æ›´æ–°é»˜è®¤æ¨¡æ¿æ–‡ä»¶ï¼ˆç®€åŒ–ç‰ˆï¼‰
3. ä¿æŒå®å‡½æ•°åå’Œå‚æ•°æ¥å£ä¸å˜
4. æµ‹è¯•ä¿®æ”¹åçš„æ•ˆæœ

## ğŸ§ª æµ‹è¯•éªŒè¯

å¯ä»¥ä½¿ç”¨æµ‹è¯•è„šæœ¬éªŒè¯æ¨¡æ¿åŠ è½½å’Œæ¸²æŸ“åŠŸèƒ½ï¼š

```bash
python test_modular_prompts_simple.py
```

è¯¥è„šæœ¬ä¼šæµ‹è¯•ï¼š
- ä¸»æ¨¡æ¿æ–‡ä»¶æ˜¯å¦æ­£å¸¸åŠ è½½
- é»˜è®¤æ¨¡æ¿æ–‡ä»¶æ˜¯å¦æ­£ç¡®åˆ†ç¦»
- å®å‡½æ•°æ˜¯å¦æ­£ç¡®è°ƒç”¨
- ä¼˜å…ˆçº§æœºåˆ¶æ˜¯å¦å·¥ä½œ
- é”™è¯¯å¤„ç†æœºåˆ¶æ˜¯å¦ç”Ÿæ•ˆ

## ğŸ“ å®Œæ•´ç›®å½•ç»“æ„

```
src/corder_integration/langgraph/prompts/
â”œâ”€â”€ README.md                                    # æœ¬æ–‡æ¡£
â”œâ”€â”€ __init__.py                                  # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”œâ”€â”€ requirements_analysis_prompts.jinja2        # éœ€æ±‚åˆ†æä¸“å®¶æç¤ºè¯
â”œâ”€â”€ design_analysis_prompts.jinja2              # è®¾è®¡åˆ†æä¸“å®¶æç¤ºè¯
â”œâ”€â”€ service_boundary_prompts.jinja2             # æœåŠ¡è¾¹ç•Œåˆ’åˆ†ä¸“å®¶æç¤ºè¯
â”œâ”€â”€ dependency_analysis_prompts.jinja2          # ä¾èµ–åˆ†æä¸“å®¶æç¤ºè¯
â”œâ”€â”€ task_scheduling_prompts.jinja2              # ä»»åŠ¡è°ƒåº¦ä¸“å®¶æç¤ºè¯
â”œâ”€â”€ service_analysis_prompts.jinja2             # æœåŠ¡åˆ†æä¸“å®¶æç¤ºè¯
â”œâ”€â”€ code_generation_prompts.jinja2              # ä»£ç ç”Ÿæˆä¸“å®¶æç¤ºè¯
â”œâ”€â”€ api_design_prompts.jinja2                   # APIè®¾è®¡ä¸“å®¶æç¤ºè¯
â””â”€â”€ default/                                     # é»˜è®¤æç¤ºè¯ç›®å½•
    â”œâ”€â”€ requirements_analysis_default_prompts.jinja2
    â”œâ”€â”€ design_analysis_default_prompts.jinja2
    â”œâ”€â”€ service_boundary_default_prompts.jinja2
    â”œâ”€â”€ dependency_analysis_default_prompts.jinja2
    â”œâ”€â”€ task_scheduling_default_prompts.jinja2
    â”œâ”€â”€ service_analysis_default_prompts.jinja2
    â”œâ”€â”€ code_generation_default_prompts.jinja2
    â””â”€â”€ api_design_default_prompts.jinja2
``` 