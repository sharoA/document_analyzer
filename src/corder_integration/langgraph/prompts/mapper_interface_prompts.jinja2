{# Mapperæ¥å£æ–¹æ³•ç”Ÿæˆä¸“é—¨æç¤ºè¯æ¨¡æ¿ #}

{% macro mapper_interface_prompt(interface_name, service_impl_mapper_calls, request_params, response_params, business_logic, project_context) %}
# ğŸ—ƒï¸ MyBatis Mapperæ¥å£ä»£ç ç”Ÿæˆä¸“å®¶

ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„MyBatis Mapperæ¥å£ç”Ÿæˆä¸“å®¶ï¼Œä¸“é—¨è´Ÿè´£ç”ŸæˆMapperæ¥å£æ–¹æ³•ã€‚

## ğŸ“‹ ç”Ÿæˆä»»åŠ¡
ä¸º{{ interface_name }}ç”Ÿæˆå®Œæ•´çš„Mapperæ¥å£ï¼Œç¡®ä¿åŒ…å«ServiceImplä¸­è°ƒç”¨çš„æ‰€æœ‰æ–¹æ³•ã€‚

### åŸºæœ¬ä¿¡æ¯
- **å®ä½“åç§°**: {{ interface_name }}
- **ä¸šåŠ¡æè¿°**: {{ business_logic }}
- **é¡¹ç›®åŒ…ç»“æ„**: {{ project_context.get('package_patterns', {}).get('base_package', 'com.example') }}

### ServiceImplä¸­çš„Mapperæ–¹æ³•è°ƒç”¨
{% for call in service_impl_mapper_calls %}
- **è°ƒç”¨æ–¹æ³•**: {{ call.method_name }}
- **è°ƒç”¨å‚æ•°**: {{ call.parameters }}
- **è°ƒç”¨ä¸Šä¸‹æ–‡**: {{ call.context }}
{% endfor %}

### æ•°æ®æŸ¥è¯¢éœ€æ±‚
```json
{{ request_params | tojson }}
```

### è¿”å›æ•°æ®ç»“æ„
```json
{{ response_params | tojson }}
```

## ğŸ¯ ç”Ÿæˆè¦æ±‚

### 1. å¿…é¡»åŒ…å«çš„æ–¹æ³•
**é‡è¦**: Mapperæ¥å£å¿…é¡»åŒ…å«ServiceImplä¸­è°ƒç”¨çš„æ‰€æœ‰æ–¹æ³•ï¼š
{% for call in service_impl_mapper_calls %}
- `{{ call.method_name }}` - {{ call.description }}
{% endfor %}

### 2. å¸¸ç”¨æŸ¥è¯¢æ–¹æ³•
é™¤äº†ServiceImpléœ€è¦çš„æ–¹æ³•å¤–ï¼Œè¿˜åº”åŒ…å«ï¼š
- æ ¹æ®IDæŸ¥è¯¢å•ä¸ªè®°å½•
- æ ¹æ®æ¡ä»¶æŸ¥è¯¢åˆ—è¡¨
- åˆ†é¡µæŸ¥è¯¢æ”¯æŒ
- æ‰¹é‡æ“ä½œæ–¹æ³•

### 3. æ–¹æ³•å‘½åè§„èŒƒ
- `selectByCondition` - æ ¹æ®æ¡ä»¶æŸ¥è¯¢
- `selectById` - æ ¹æ®IDæŸ¥è¯¢
- `selectList` - æŸ¥è¯¢åˆ—è¡¨
- `insertSelective` - é€‰æ‹©æ€§æ’å…¥
- `updateById` - æ ¹æ®IDæ›´æ–°
- `deleteById` - æ ¹æ®IDåˆ é™¤

### 4. è¾“å‡ºæ ¼å¼
```java
package {{ project_context.get('package_patterns', {}).get('base_package', 'com.example') }}.domain.mapper;

import {{ project_context.get('package_patterns', {}).get('base_package', 'com.example') }}.domain.entity.{{ interface_name }};
import com.baomidou.mybatisplus.core.mapper.BaseMapper;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Param;
import java.util.List;

/**
 * {{ interface_name }}Mapper
 * {{ business_logic }}
 */
@Mapper
public interface {{ interface_name }}Mapper extends BaseMapper<{{ interface_name }}> {
    
    {% for call in service_impl_mapper_calls %}
    /**
     * {{ call.description }}
     */
    {{ call.return_type }} {{ call.method_name }}({{ call.parameters }});
    {% endfor %}
    
    /**
     * æ ¹æ®æ¡ä»¶æŸ¥è¯¢è®°å½•åˆ—è¡¨
     */
    List<{{ interface_name }}> selectByCondition(@Param("condition") {{ interface_name }} condition);
    
    /**
     * æ ¹æ®IDæŸ¥è¯¢è¯¦ç»†ä¿¡æ¯
     */
    {{ interface_name }} selectByPrimaryKey(@Param("id") Long id);
    
    /**
     * è‡ªå®šä¹‰åˆ†é¡µæŸ¥è¯¢
     */
    List<{{ interface_name }}> selectPageList(@Param("params") java.util.Map<String, Object> params);
}
```

## ğŸ’¡ å…³é”®è¦æ±‚
1. **æ–¹æ³•ååŒ¹é…**: ç¡®ä¿ServiceImplè°ƒç”¨çš„æ‰€æœ‰æ–¹æ³•éƒ½åœ¨Mapperæ¥å£ä¸­å®šä¹‰
2. **å‚æ•°ä¸€è‡´**: æ–¹æ³•å‚æ•°ç±»å‹å’Œæ•°é‡å¿…é¡»ä¸ServiceImplè°ƒç”¨ä¸€è‡´
3. **ç»§æ‰¿BaseMapper**: ç»§æ‰¿MyBatis Plusçš„BaseMapperè·å¾—åŸºç¡€CRUDåŠŸèƒ½
4. **æ³¨è§£å®Œæ•´**: ä½¿ç”¨@Mapperæ³¨è§£å’Œ@Paramæ³¨è§£
5. **ä¸šåŠ¡é€»è¾‘**: æ ¹æ®{{ business_logic }}è®¾è®¡åˆé€‚çš„æŸ¥è¯¢æ–¹æ³•

è¯·ç”Ÿæˆå®Œæ•´çš„Mapperæ¥å£ä»£ç ï¼Œç¡®ä¿åŒ…å«ServiceImplä¸­è°ƒç”¨çš„æ‰€æœ‰æ–¹æ³•ã€‚
{% endmacro %}