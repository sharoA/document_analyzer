# ğŸ” æ¡ä»¶æ£€æŸ¥å™¨ & ğŸ¤– LLMè°ƒç”¨å®Œæ•´æŒ‡å—

## ğŸ“‹ å·¥ä½œæµæ¦‚è§ˆ

```
ğŸ“„ è¾“å…¥æ–‡æ¡£ â†’ ğŸ§  TaskSplittingNode â†’ ğŸ” DependencyChecker â†’ ğŸ”§ GitManagementNode â†’ 
ğŸ—ï¸ ServiceChecker â†’ ğŸ’» IntelligentCodingNode â†’ ğŸ” CodeReviewNode â†’ âœ… QualityChecker â†’ 
ğŸ§ª UnitTestingNode â†’ ğŸ§ª TestChecker â†’ ğŸ“¤ GitCommitNode â†’ âœ… å®Œæˆ
```

## ğŸ” æ¡ä»¶æ£€æŸ¥å™¨è¯¦ç»†è¯´æ˜

### 1. DependencyChecker (ä»»åŠ¡ä¾èµ–æ£€æŸ¥)
**ä½ç½®**: `TaskSplittingNode` â¡ï¸ `GitManagementNode`
**æ–‡ä»¶**: `src/corder_integration/langgraph/conditions/dependency_checker.py`

**æ£€æŸ¥å†…å®¹**:
```python
âœ… å¾®æœåŠ¡è¯†åˆ«å®Œæ•´æ€§
âœ… æœåŠ¡ä¾èµ–å…³ç³»æ˜ç¡®æ€§  
âœ… æ•°æ®åº“ç»“æ„æ¸…æ™°åº¦
âœ… APIæ¥å£å¥‘çº¦å®Œæ•´æ€§
âœ… å®ç°è®¡åˆ’å¯æ‰§è¡Œæ€§
```

**å¤±è´¥æ—¶è¡Œä¸º**: è¿”å› `"task_splitting"` (é‡æ–°æ‹†åˆ†ä»»åŠ¡)
**æˆåŠŸæ—¶è¡Œä¸º**: è¿”å› `"git_management"` (è¿›å…¥Gitç®¡ç†)

---

### 2. ServiceChecker (æœåŠ¡å…¼å®¹æ€§æ£€æŸ¥)
**ä½ç½®**: `GitManagementNode` â¡ï¸ `IntelligentCodingNode`
**æ–‡ä»¶**: `src/corder_integration/langgraph/conditions/service_checker.py`

**æ£€æŸ¥å†…å®¹**:
```python
âœ… Gitä»“åº“ç»“æ„é€‚é…æ€§
âœ… ç°æœ‰ä»£ç å…¼å®¹æ€§
âœ… Nacosé…ç½®ä¸­å¿ƒè¿é€šæ€§
âœ… Mavenä¾èµ–ç‰ˆæœ¬å…¼å®¹æ€§
âœ… æŠ€æœ¯æ ˆç¯å¢ƒå°±ç»ªæ€§
```

**å¤±è´¥æ—¶è¡Œä¸º**: è¿”å› `"git_management"` (è°ƒæ•´Gité…ç½®)
**æˆåŠŸæ—¶è¡Œä¸º**: è¿”å› `"intelligent_coding"` (å¼€å§‹ç¼–ç )

---

### 3. QualityChecker (è´¨é‡é—¨ç¦æ£€æŸ¥)
**ä½ç½®**: `CodeReviewNode` â¡ï¸ `UnitTestingNode`
**æ–‡ä»¶**: `src/corder_integration/langgraph/conditions/quality_checker.py`

**æ£€æŸ¥å†…å®¹**:
```python
âœ… ä»£ç è§„èŒƒç¬¦åˆæ€§ (é˜¿é‡Œå·´å·´Javaè§„èŒƒ)
âœ… å®‰å…¨æ¼æ´æ‰«æç»“æœ
âœ… æ¶æ„è®¾è®¡åŸåˆ™éµå®ˆ
âœ… ä»£ç å¤æ‚åº¦æ§åˆ¶
âœ… æŠ€æœ¯å€ºåŠ¡è¯„ä¼°
```

**å¤±è´¥æ—¶è¡Œä¸º**: è¿”å› `"intelligent_coding"` (é‡æ–°ç”Ÿæˆä»£ç )
**æˆåŠŸæ—¶è¡Œä¸º**: è¿”å› `"unit_testing"` (å¼€å§‹æµ‹è¯•)

---

### 4. TestChecker (æµ‹è¯•ç»“æœæ£€æŸ¥)
**ä½ç½®**: `UnitTestingNode` â¡ï¸ `GitCommitNode`
**æ–‡ä»¶**: `src/corder_integration/langgraph/conditions/test_checker.py`

**æ£€æŸ¥å†…å®¹**:
```python
âœ… å•å…ƒæµ‹è¯•è¦†ç›–ç‡ (ç›®æ ‡ >80%)
âœ… æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡
âœ… é›†æˆæµ‹è¯•ç»“æœ
âœ… æ€§èƒ½åŸºå‡†æµ‹è¯•
âœ… APIæ¥å£æµ‹è¯•
```

**å¤±è´¥æ—¶è¡Œä¸º**: è¿”å› `"intelligent_coding"` (ä¿®å¤ä»£ç )
**æˆåŠŸæ—¶è¡Œä¸º**: è¿”å› `"git_commit"` (æäº¤ä»£ç )

---

## ğŸ¤– LLMè°ƒç”¨ç‚¹è¯¦ç»†è¯´æ˜

### ğŸ§  TaskSplittingNode (5ä¸ªLLMè°ƒç”¨)

| LLMè°ƒç”¨ | Promptæ–‡ä»¶ | ä½œç”¨æè¿° | è¾“å…¥ | è¾“å‡º |
|---------|------------|----------|------|------|
| **LLMè°ƒç”¨1** | `requirement_analysis_prompt.py` | éœ€æ±‚æ–‡æ¡£åˆ†æ | éœ€æ±‚æ–‡æ¡£å†…å®¹ | åŠŸèƒ½éœ€æ±‚ã€ä¸šåŠ¡æµç¨‹ã€æ•°æ®å®ä½“ |
| **LLMè°ƒç”¨2** | `design_analysis_prompt.py` | è®¾è®¡æ–‡æ¡£åˆ†æ | è®¾è®¡æ–‡æ¡£å†…å®¹ | ç³»ç»Ÿæ¶æ„ã€æŠ€æœ¯æ ˆã€éƒ¨ç½²è¦æ±‚ |
| **LLMè°ƒç”¨3** | `service_boundary_prompt.py` | å¾®æœåŠ¡è¾¹ç•Œè¯†åˆ« | éœ€æ±‚+è®¾è®¡åˆ†æç»“æœ | å¾®æœåŠ¡åˆ—è¡¨ã€è¾¹ç•Œå®šä¹‰ã€èŒè´£åˆ†å·¥ |
| **LLMè°ƒç”¨4** | `dependency_analysis_prompt.py` | æœåŠ¡ä¾èµ–åˆ†æ | å¾®æœåŠ¡åˆ—è¡¨ã€è®¾è®¡æ–‡æ¡£ | ä¾èµ–å…³ç³»å›¾ã€è°ƒç”¨é“¾è·¯ |
| **LLMè°ƒç”¨5** | `task_scheduling_prompt.py` | æ‰§è¡Œè®¡åˆ’åˆ¶å®š | æœåŠ¡+ä¾èµ–+å¤æ‚åº¦ | å¹¶è¡Œæ‰§è¡Œè®¡åˆ’ã€ä¼˜å…ˆçº§æ’åº |

---

### ğŸ”§ GitManagementNode (1ä¸ªLLMè°ƒç”¨)

| LLMè°ƒç”¨ | Promptæ–‡ä»¶ | ä½œç”¨æè¿° | è¾“å…¥ | è¾“å‡º |
|---------|------------|----------|------|------|
| **LLMè°ƒç”¨6** | `git_extraction_prompt.py` | Gitä¿¡æ¯æå– | è®¾è®¡æ–‡æ¡£ã€æœåŠ¡åˆ—è¡¨ | ä»“åº“ç»“æ„ã€åˆ†æ”¯ç­–ç•¥ã€Gité…ç½® |

---

### ğŸ’» IntelligentCodingNode (4ä¸ªLLMè°ƒç”¨)

| LLMè°ƒç”¨ | Promptæ–‡ä»¶ | ä½œç”¨æè¿° | è¾“å…¥ | è¾“å‡º |
|---------|------------|----------|------|------|
| **LLMè°ƒç”¨7** | `service_analysis_prompt.py` | æœåŠ¡éœ€æ±‚åˆ†æ | å•ä¸ªæœåŠ¡çš„éœ€æ±‚ | è¯¦ç»†åŠŸèƒ½è®¾è®¡ã€æ•°æ®æ¨¡å‹ |
| **LLMè°ƒç”¨8** | `code_generation_prompt.py` | ä»£ç ç”Ÿæˆ (æ ¸å¿ƒ) | åŠŸèƒ½è®¾è®¡ã€æŠ€æœ¯æ ˆ | SpringBooté¡¹ç›®ä»£ç  |
| **LLMè°ƒç”¨9** | `api_design_prompt.py` | APIè®¾è®¡ | æœåŠ¡åŠŸèƒ½ã€æ•°æ®æ¨¡å‹ | RESTful APIå®šä¹‰ |
| **LLMè°ƒç”¨10** | `service_interconnect_prompt.py` | æœåŠ¡äº’è”ä»£ç  | æœåŠ¡ä¾èµ–å…³ç³» | æœåŠ¡é—´è°ƒç”¨ä»£ç  |

---

### ğŸ” CodeReviewNode (2ä¸ªLLMè°ƒç”¨)

| LLMè°ƒç”¨ | Promptæ–‡ä»¶ | ä½œç”¨æè¿° | è¾“å…¥ | è¾“å‡º |
|---------|------------|----------|------|------|
| **LLMè°ƒç”¨11** | `code_review_prompt.py` | ä»£ç è´¨é‡å®¡æŸ¥ | ç”Ÿæˆçš„æºä»£ç  | ä»£ç è¯„å®¡æŠ¥å‘Šã€æ”¹è¿›å»ºè®® |
| **LLMè°ƒç”¨12** | `security_check_prompt.py` | å®‰å…¨æ£€æŸ¥ | æºä»£ç ã€ä¾èµ– | å®‰å…¨æ¼æ´æŠ¥å‘Šã€ä¿®å¤å»ºè®® |

---

### ğŸ§ª UnitTestingNode (2ä¸ªLLMè°ƒç”¨)

| LLMè°ƒç”¨ | Promptæ–‡ä»¶ | ä½œç”¨æè¿° | è¾“å…¥ | è¾“å‡º |
|---------|------------|----------|------|------|
| **LLMè°ƒç”¨13** | `test_generation_prompt.py` | æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ | æºä»£ç ã€APIå®šä¹‰ | JUnitæµ‹è¯•ä»£ç  |
| **LLMè°ƒç”¨14** | `mock_generation_prompt.py` | Mockå¯¹è±¡ç”Ÿæˆ | æœåŠ¡ä¾èµ–å…³ç³» | Mockitoæµ‹è¯•ä»£ç  |

---

### ğŸ“¤ GitCommitNode (2ä¸ªLLMè°ƒç”¨)

| LLMè°ƒç”¨ | Promptæ–‡ä»¶ | ä½œç”¨æè¿° | è¾“å…¥ | è¾“å‡º |
|---------|------------|----------|------|------|
| **LLMè°ƒç”¨15** | `commit_message_prompt.py` | æäº¤ä¿¡æ¯ç”Ÿæˆ | ä»£ç å˜æ›´å†…å®¹ | è§„èŒƒçš„Gitæäº¤ä¿¡æ¯ |
| **LLMè°ƒç”¨16** | `pr_description_prompt.py` | PRæè¿°ç”Ÿæˆ | åŠŸèƒ½å˜æ›´æ‘˜è¦ | Pull Requestæè¿° |

---

## ğŸ”„ æ¡ä»¶æ£€æŸ¥å™¨åœ¨å·¥ä½œæµä¸­çš„ä½œç”¨æœºåˆ¶

```python
# æ¡ä»¶æ£€æŸ¥å™¨çš„å·¥ä½œåŸç†
def dependency_check_condition(state: CodingAgentState) -> str:
    """
    æ£€æŸ¥ä»»åŠ¡æ‹†åˆ†ç»“æœæ˜¯å¦æ»¡è¶³ä¾èµ–è¦æ±‚
    """
    if æ‰€æœ‰ä¾èµ–æ£€æŸ¥é€šè¿‡:
        return "git_management"    # è¿›å…¥ä¸‹ä¸€èŠ‚ç‚¹
    else:
        return "task_splitting"    # è¿”å›é‡æ–°å¤„ç†

# åœ¨LangGraphä¸­çš„ä½¿ç”¨
workflow.add_conditional_edges(
    "task_splitting",                    # æºèŠ‚ç‚¹
    dependency_check_condition,          # æ¡ä»¶å‡½æ•°
    {
        "git_management": "git_management",   # æˆåŠŸè·¯å¾„
        "task_splitting": "task_splitting"    # å¤±è´¥è·¯å¾„(é‡è¯•)
    }
)
```

## ğŸ“Š æ•´ä½“æ•°æ®æµ

```
ğŸ“„ éœ€æ±‚+è®¾è®¡æ–‡æ¡£
    â†“ (5ä¸ªLLMè°ƒç”¨)
ğŸ§  ä»»åŠ¡æ‹†åˆ†ç»“æœ (services, dependencies, plan)
    â†“ (DependencyChecker)
ğŸ”§ Gité…ç½®ç»“æœ (repository, branches)  
    â†“ (ServiceChecker)
ğŸ’» ä»£ç ç”Ÿæˆç»“æœ (source code, APIs)
    â†“ (QualityChecker)
ğŸ§ª æµ‹è¯•æ‰§è¡Œç»“æœ (test code, coverage)
    â†“ (TestChecker)  
ğŸ“¤ Gitæäº¤ç»“æœ (commits, PRs)
    â†“
âœ… å®Œæ•´çš„å¾®æœåŠ¡é¡¹ç›®
```

## ğŸ’¡ å…³é”®è®¾è®¡åŸåˆ™

1. **ğŸ”„ æ™ºèƒ½é‡è¯•**: æ¡ä»¶æ£€æŸ¥å¤±è´¥æ—¶è‡ªåŠ¨è¿”å›ä¸Šçº§èŠ‚ç‚¹é‡æ–°å¤„ç†
2. **ğŸ“Š çŠ¶æ€é©±åŠ¨**: æ‰€æœ‰æ£€æŸ¥åŸºäºCodingAgentStateçŠ¶æ€è¿›è¡Œ
3. **ğŸ¤– LLMä¸“ç”¨åŒ–**: æ¯ä¸ªLLMè°ƒç”¨éƒ½æœ‰ä¸“é—¨çš„promptæ¨¡æ¿
4. **ğŸ›¡ï¸ è´¨é‡ä¿è¯**: å¤šå±‚è´¨é‡æ£€æŸ¥ç¡®ä¿æœ€ç»ˆä»£ç è´¨é‡
5. **âš¡ å¹¶è¡Œä¼˜åŒ–**: æ”¯æŒå¾®æœåŠ¡å¹¶è¡Œç”Ÿæˆå’Œæµ‹è¯• 