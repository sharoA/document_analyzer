graph TB
    %% é¡¶éƒ¨è¾“å…¥å±‚
    subgraph "ğŸ“‹ è¾“å…¥å±‚"
        direction LR
        ReqDoc["ğŸ“„ éœ€æ±‚æ–‡æ¡£<br/>- åŠŸèƒ½éœ€æ±‚<br/>- ä¸šåŠ¡è§„åˆ™<br/>- æ¥å£å®šä¹‰<br/>- å¾®æœåŠ¡è¾¹ç•Œ"]
        DesignDoc["ğŸ“ è®¾è®¡æ–‡æ¡£<br/>- å¾®æœåŠ¡æ¶æ„<br/>- æœåŠ¡ä¾èµ–å›¾<br/>- APIå¥‘çº¦<br/>- æ•°æ®æ¨¡å‹"]
    end
    
    %% ç¬¬ä¸€å±‚ï¼šä»»åŠ¡æ‹†åˆ†å±‚
    subgraph "ğŸ§  ä»»åŠ¡æ‹†åˆ†è°ƒåº¦å±‚"
        direction LR
        
        subgraph "æ ¸å¿ƒä»»åŠ¡æ‹†åˆ†å™¨"
            TaskSplitAgent["ä»»åŠ¡æ‹†åˆ†æ™ºèƒ½ä½“<br/>ğŸ§  æ ¸å¿ƒå†³ç­–å™¨"]
            RequirementAnalyzer["éœ€æ±‚åˆ†æå™¨<br/>- åŠŸèƒ½ç‚¹æå–<br/>- ä¸šåŠ¡é€»è¾‘åˆ†æ<br/>- å¾®æœåŠ¡è¾¹ç•Œè¯†åˆ«<br/>- å¤æ‚åº¦è¯„ä¼°"]
            DesignAnalyzer["è®¾è®¡åˆ†æå™¨<br/>- æ¶æ„æ¨¡å¼è¯†åˆ«<br/>- æœåŠ¡ä¾èµ–åˆ†æ<br/>- æ¥å£å®šä¹‰è§£æ<br/>- æ•°æ®æµåˆ†æ"]
            TaskScheduler["ä»»åŠ¡è°ƒåº¦å™¨<br/>- æ‰§è¡Œåºåˆ—è§„åˆ’<br/>- ä¾èµ–å…³ç³»æ’åº<br/>- å¹¶è¡Œä»»åŠ¡è¯†åˆ«<br/>- èµ„æºåˆ†é…ç­–ç•¥"]
        end
        
        subgraph "ä»»åŠ¡ç®¡ç†"
            TaskQueue["ä»»åŠ¡é˜Ÿåˆ—<br/>- ä¼˜å…ˆçº§é˜Ÿåˆ—<br/>- ä»»åŠ¡çŠ¶æ€è·Ÿè¸ª<br/>- é‡è¯•æœºåˆ¶<br/>- è¶…æ—¶å¤„ç†"]
            TaskPriority["ä»»åŠ¡ä¼˜å…ˆçº§è¯„ä¼°<br/>- ä¸šåŠ¡ä»·å€¼è¯„åˆ†<br/>- æŠ€æœ¯éš¾åº¦è¯„ä¼°<br/>- é£é™©ç­‰çº§åˆ†æ<br/>- ä¾èµ–ç´§æ€¥åº¦"]
            ServiceTaskMap["æœåŠ¡ä»»åŠ¡æ˜ å°„<br/>- å¾®æœåŠ¡ä»»åŠ¡åˆ†ç»„<br/>- å¹¶è¡Œä»»åŠ¡è¯†åˆ«<br/>- ä¾èµ–ä»»åŠ¡æ’åº"]
        end
    end
    
    %% ç¬¬äºŒå±‚ï¼šLangGraphæ§åˆ¶å±‚
    subgraph "ğŸ”„ LangGraphå·¥ä½œæµæ§åˆ¶å±‚"
        direction LR
        
        subgraph "æ ¸å¿ƒå¼•æ“"
            WorkflowEngine["å·¥ä½œæµå¼•æ“<br/>StateGraph"]
            StateManager["çŠ¶æ€ç®¡ç†å™¨<br/>ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€è¿½è¸ª"]
            PostgresCheckpointer["PostgreSQLæ£€æŸ¥ç‚¹<br/>ä»»åŠ¡çŠ¶æ€æŒä¹…åŒ–"]
        end
        
        subgraph "å·¥ä½œæµèŠ‚ç‚¹"
            GitMgmtNode["ğŸ”§ Gitç®¡ç†èŠ‚ç‚¹<br/>- å¤šä»“åº“å‡†å¤‡<br/>- åˆ†æ”¯ç­–ç•¥<br/>- ç‰ˆæœ¬æ§åˆ¶"]
            ServiceCodingNode["ğŸ’» å¾®æœåŠ¡ç¼–ç èŠ‚ç‚¹<br/>- å¹¶è¡ŒæœåŠ¡ç”Ÿæˆ<br/>- APIæ¥å£ç”Ÿæˆ<br/>- æœåŠ¡é—´è°ƒç”¨"]
            TestNode["ğŸ§ª æµ‹è¯•èŠ‚ç‚¹<br/>- å•å…ƒæµ‹è¯•ç”Ÿæˆ<br/>- é™æ€æ¥å£æ£€æŸ¥<br/>- APIå…¼å®¹æ€§éªŒè¯"]
            GitCommitNode["ğŸ“¤ Gitæäº¤èŠ‚ç‚¹<br/>- ä»£ç æäº¤<br/>- PRåˆ›å»º<br/>- åˆ†æ”¯æ¨é€"]
        end
        
        subgraph "æ¡ä»¶æ§åˆ¶"
            TaskDepCheck["ä»»åŠ¡ä¾èµ–æ£€æŸ¥<br/>å‰ç½®ä»»åŠ¡å®ŒæˆéªŒè¯<br/>å¾ªç¯ä¾èµ–æ£€æµ‹"]
            ServiceCheck["æœåŠ¡æ£€æŸ¥<br/>æ¥å£å…¼å®¹æ€§æ£€æŸ¥<br/>æœåŠ¡ä¾èµ–éªŒè¯"]
            TestCheck["æµ‹è¯•æ£€æŸ¥<br/>å•å…ƒæµ‹è¯•é€šè¿‡ç‡<br/>ä»£ç è¦†ç›–ç‡éªŒè¯"]
            QualityCheck["è´¨é‡æ£€æŸ¥<br/>é™æ€åˆ†æç»“æœ<br/>è§„èŒƒæ€§éªŒè¯"]
        end
    end
    
    %% ç¬¬ä¸‰å±‚ï¼šæ‰§è¡Œæ™ºèƒ½ä½“å±‚
    subgraph "ğŸ¤– æ‰§è¡Œæ™ºèƒ½ä½“å±‚"
        direction TB
        
        subgraph "ğŸ”§ Gitç®¡ç†æ™ºèƒ½ä½“"
            GitManagerAgent["Gitç®¡ç†æ™ºèƒ½ä½“<br/>ğŸ”§ å¤šä»“åº“åè°ƒå™¨"]
            MultiRepoManager["å¤šä»“åº“ç®¡ç†å™¨<br/>- æœåŠ¡ä»“åº“åˆ›å»º<br/>- åˆ†æ”¯ç­–ç•¥ç»Ÿä¸€<br/>- ç‰ˆæœ¬ä¾èµ–ç®¡ç†"]
            ServiceVersionController["æœåŠ¡ç‰ˆæœ¬æ§åˆ¶å™¨<br/>- è¯­ä¹‰ç‰ˆæœ¬ç®¡ç†<br/>- å‘åå…¼å®¹æ£€æŸ¥<br/>- ä¾èµ–ç‰ˆæœ¬é”å®š"]
        end
        
        subgraph "ğŸ’» å¾®æœåŠ¡ç¼–ç æ™ºèƒ½ä½“"
            MicroserviceCodingAgent["å¾®æœåŠ¡ç¼–ç æ™ºèƒ½ä½“<br/>ğŸ¤– åˆ†å¸ƒå¼ç¼–ç ä¸“å®¶"]
            ServiceArchAnalyzer["æœåŠ¡æ¶æ„åˆ†æå™¨<br/>- Spring Cloudæ¶æ„<br/>- åˆ†å¸ƒå¼æ¨¡å¼è¯†åˆ«<br/>- æŠ€æœ¯æ ˆé€‰æ‹©"]
            ParallelServiceGenerator["å¹¶è¡ŒæœåŠ¡ç”Ÿæˆå™¨<br/>- ä»»åŠ¡é©±åŠ¨ç”Ÿæˆ<br/>- ç»Ÿä¸€ä»£ç é£æ ¼<br/>- é…ç½®æ¨¡æ¿åº”ç”¨"]
            APIGenerator["APIç”Ÿæˆå™¨<br/>- RESTful APIå®ç°<br/>- å¼‚æ­¥æ¶ˆæ¯æ¥å£<br/>- æ¥å£æ–‡æ¡£ç”Ÿæˆ"]
            ServiceInterconnector["æœåŠ¡äº’è”ç”Ÿæˆå™¨<br/>- Feignå®¢æˆ·ç«¯ç”Ÿæˆ<br/>- æ¶ˆæ¯é˜Ÿåˆ—é›†æˆ<br/>- æœåŠ¡å‘ç°é…ç½®"]
        end
        
        subgraph "ğŸ§ª æµ‹è¯•æ™ºèƒ½ä½“"
            TestAgent["æµ‹è¯•æ™ºèƒ½ä½“<br/>ğŸ§ª å•å…ƒæµ‹è¯•ä¸“å®¶"]
            UnitTestGenerator["å•å…ƒæµ‹è¯•ç”Ÿæˆå™¨<br/>- ä»»åŠ¡å¯¼å‘æµ‹è¯•<br/>- è¾¹ç•Œæ¡ä»¶æµ‹è¯•<br/>- Mockå¯¹è±¡ç”Ÿæˆ"]
            StaticInterfaceChecker["é™æ€æ¥å£æ£€æŸ¥å™¨<br/>- æœåŠ¡é—´æ¥å£åŒ¹é…<br/>- APIå…¼å®¹æ€§æ£€æŸ¥<br/>- å¥‘çº¦ä¸€è‡´æ€§éªŒè¯"]
            CoverageAnalyzer["è¦†ç›–ç‡åˆ†æå™¨<br/>- ä»»åŠ¡è¦†ç›–ç‡ç»Ÿè®¡<br/>- æµ‹è¯•è´¨é‡è¯„ä¼°<br/>- è¦†ç›–ç‡æŠ¥å‘Š"]
        end
        
        subgraph "ğŸ” ä»£ç å®¡æŸ¥æ™ºèƒ½ä½“"
            ReviewAgent["ä»£ç å®¡æŸ¥æ™ºèƒ½ä½“<br/>ğŸ” è´¨é‡æŠŠå…³è€…"]
            StaticAnalyzer["é™æ€åˆ†æå™¨<br/>- è¯­æ³•æ£€æŸ¥<br/>- ä»£ç è´¨é‡è¯„ä¼°<br/>- å¤æ‚åº¦åˆ†æ"]
            SecurityChecker["å®‰å…¨æ£€æŸ¥å™¨<br/>- æ¼æ´æ‰«æ<br/>- å®‰å…¨è§„èŒƒæ£€æŸ¥<br/>- ä¾èµ–å®‰å…¨éªŒè¯"]
            StandardChecker["è§„èŒƒæ£€æŸ¥å™¨<br/>- ç¼–ç è§„èŒƒéªŒè¯<br/>- å‘½åè§„èŒƒæ£€æŸ¥<br/>- æ–‡æ¡£å®Œæ•´æ€§"]
        end
        
        subgraph "ğŸ“¤ Gitæäº¤æ™ºèƒ½ä½“"
            GitCommitAgent["Gitæäº¤æ™ºèƒ½ä½“<br/>ğŸ“¤ ç‰ˆæœ¬ç®¡ç†ä¸“å®¶"]
            CodeCommitter["ä»£ç æäº¤å™¨<br/>- ä»»åŠ¡å¯¼å‘æäº¤<br/>- å˜æ›´åˆ†æ<br/>- ç‰ˆæœ¬æ ‡ç­¾ç®¡ç†"]
            PushManager["æ¨é€ç®¡ç†å™¨<br/>- å¤šä»“åº“æ¨é€<br/>- åˆ†æ”¯åŒæ­¥<br/>- å†²çªå¤„ç†"]
            PRCreator["PRåˆ›å»ºå™¨<br/>- ä»»åŠ¡å…³è”PR<br/>- ä»£ç å®¡æŸ¥è¯·æ±‚<br/>- å˜æ›´è¯´æ˜ç”Ÿæˆ"]
        end
    end
    
    %% å·¦ä¾§ï¼šå·¥å…·æ”¯æŒå±‚
    subgraph "ğŸ› ï¸ å·¥å…·æ”¯æŒå±‚"
        direction TB
        
        subgraph "ä»»åŠ¡ç®¡ç†å·¥å…·"
            TaskTools["ä»»åŠ¡ç®¡ç†å·¥å…·<br/>- ä»»åŠ¡ä¼˜å…ˆçº§ç®—æ³•<br/>- ä¾èµ–å›¾ç”Ÿæˆ<br/>- æ‰§è¡Œè®¡åˆ’ä¼˜åŒ–"]
        end
        
        subgraph "ä»£ç ç”Ÿæˆå·¥å…·"
            CodeGenTools["ä»£ç ç”Ÿæˆå·¥å…·<br/>- æ¨¡æ¿å¼•æ“<br/>- ä»£ç è„šæ‰‹æ¶<br/>- æ‰¹é‡ç”Ÿæˆå™¨"]
        end
        
        subgraph "APIå·¥å…·"
            APITools["APIå·¥å…·é›†<br/>- OpenAPIç”Ÿæˆå™¨<br/>- APIæ–‡æ¡£ç”Ÿæˆ<br/>- æ¥å£å…¼å®¹æ€§æ£€æŸ¥"]
        end
        
        subgraph "æµ‹è¯•å·¥å…·"
            TestTools["å•å…ƒæµ‹è¯•å·¥å…·<br/>- JUnitæ¡†æ¶<br/>- Mockæ¡†æ¶<br/>- è¦†ç›–ç‡å·¥å…·"]
        end
        
        subgraph "Gitå·¥å…·"
            GitTools["Gitæ“ä½œå·¥å…·<br/>- å¤šä»“åº“æ“ä½œ<br/>- åˆ†æ”¯ç®¡ç†<br/>- åˆå¹¶å·¥å…·"]
        end
    end
    
    %% å³ä¾§ï¼šè®°å¿†ä¸æç¤ºè¯å±‚
    subgraph "ğŸ§  çŸ¥è¯†ä¸æç¤ºè¯å±‚"
        direction TB
        
        subgraph "ä»»åŠ¡è®°å¿†"
            TaskMemory["ä»»åŠ¡æ‹†åˆ†è®°å¿†<br/>- æ‹†åˆ†ç­–ç•¥åº“<br/>- ä¾èµ–æ¨¡å¼åº“<br/>- ä¼˜åŒ–ç»éªŒ"]
        end
        
        subgraph "æ‰§è¡Œè®°å¿†"
            ExecutionMemory["æ‰§è¡Œè®°å¿†<br/>- æœåŠ¡æ¨¡æ¿åº“<br/>- ä»£ç æ¨¡å¼åº“<br/>- æµ‹è¯•ç­–ç•¥åº“"]
        end
        
        subgraph "æç¤ºè¯åº“"
            TaskSplitPrompts["ä»»åŠ¡æ‹†åˆ†æç¤ºè¯<br/>- éœ€æ±‚åˆ†æ<br/>- è®¾è®¡è§£æ<br/>- ä»»åŠ¡è§„åˆ’"]
            ExecutionPrompts["æ‰§è¡Œæç¤ºè¯<br/>- ç¼–ç ç”Ÿæˆ<br/>- æµ‹è¯•è®¾è®¡<br/>- è´¨é‡æ£€æŸ¥"]
        end
    end
    
    %% åº•éƒ¨ï¼šMCPå·¥å…·å±‚
    subgraph "ğŸ”§ MCPå·¥å…·å±‚"
        direction LR
        MCPManager["MCPç®¡ç†å™¨"]
        SpringCloudMCP["Spring Cloud MCP"]
        MavenMCP["Maven MCP"]
        GitMCP["Git MCP"]
        OpenAPIMCP["OpenAPI MCP"]
        JUnitMCP["JUnit MCP"]
        SonarMCP["SonarQube MCP"]
        JpaMCP["JPA MCP"]
    end
    
    %% =============================================
    %% ä¸»è¦æ•°æ®æµå’Œè°ƒç”¨å…³ç³»
    %% =============================================
    
    %% è¾“å…¥åˆ°ä»»åŠ¡æ‹†åˆ†
    ReqDoc --> TaskSplitAgent
    DesignDoc --> TaskSplitAgent
    
    %% ä»»åŠ¡æ‹†åˆ†å†…éƒ¨æµç¨‹
    TaskSplitAgent --> RequirementAnalyzer
    RequirementAnalyzer --> DesignAnalyzer
    DesignAnalyzer --> TaskScheduler
    TaskScheduler --> TaskPriority
    TaskPriority --> TaskQueue
    TaskQueue --> ServiceTaskMap
    
    %% ä»»åŠ¡æ‹†åˆ†è¾“å‡ºåˆ°å·¥ä½œæµ
    ServiceTaskMap --> WorkflowEngine
    TaskQueue --> StateManager
    
    %% å·¥ä½œæµæ§åˆ¶
    WorkflowEngine --> StateManager
    StateManager <--> PostgresCheckpointer
    WorkflowEngine --> GitMgmtNode
    
    %% å·¥ä½œæµåºåˆ—ï¼ˆåŸºäºä»»åŠ¡é˜Ÿåˆ—ï¼‰
    GitMgmtNode --> ServiceCodingNode
    ServiceCodingNode --> TaskDepCheck
    TaskDepCheck -->|ä»»åŠ¡ä¾èµ–æ»¡è¶³| TestNode
    TaskDepCheck -->|ä¾èµ–æœªæ»¡è¶³| ServiceCodingNode
    TestNode --> ServiceCheck
    ServiceCheck -->|æœåŠ¡æ£€æŸ¥é€šè¿‡| TestCheck
    ServiceCheck -->|æœåŠ¡æ£€æŸ¥å¤±è´¥| ServiceCodingNode
    TestCheck -->|æµ‹è¯•é€šè¿‡| QualityCheck
    TestCheck -->|æµ‹è¯•å¤±è´¥| ServiceCodingNode
    QualityCheck -->|è´¨é‡é€šè¿‡| GitCommitNode
    QualityCheck -->|è´¨é‡ä¸è¿‡| ServiceCodingNode
    
    %% èŠ‚ç‚¹è°ƒç”¨æ™ºèƒ½ä½“
    GitMgmtNode --> GitManagerAgent
    ServiceCodingNode --> MicroserviceCodingAgent
    TestNode --> TestAgent
    TestNode --> ReviewAgent
    GitCommitNode --> GitCommitAgent
    
    %% ä»»åŠ¡æ‹†åˆ†æ™ºèƒ½ä½“è°ƒç”¨å·¥å…·å’Œè®°å¿†
    TaskSplitAgent --> TaskTools
    TaskSplitAgent <--> TaskMemory
    TaskSplitAgent <--> TaskSplitPrompts
    
    %% æ‰§è¡Œæ™ºèƒ½ä½“è°ƒç”¨å·¥å…·å’Œè®°å¿†
    MicroserviceCodingAgent --> CodeGenTools
    MicroserviceCodingAgent --> APITools
    TestAgent --> TestTools
    GitCommitAgent --> GitTools
    
    MicroserviceCodingAgent <--> ExecutionMemory
    TestAgent <--> ExecutionMemory
    GitCommitAgent <--> ExecutionPrompts
    
    %% MCPå·¥å…·è°ƒç”¨
    TaskSplitAgent --> MCPManager
    MicroserviceCodingAgent --> MCPManager
    TestAgent --> MCPManager
    GitManagerAgent --> MCPManager
    
    MCPManager --> SpringCloudMCP
    MCPManager --> MavenMCP
    MCPManager --> GitMCP
    MCPManager --> OpenAPIMCP
    MCPManager --> JUnitMCP
    MCPManager --> SonarMCP
    MCPManager --> JpaMCP
    
    %% æ ·å¼å®šä¹‰
    classDef inputClass fill:#fff2cc,stroke:#d6b656,stroke-width:3px,font-weight:bold
    classDef taskClass fill:#e1f5fe,stroke:#0277bd,stroke-width:3px,font-weight:bold
    classDef workflowClass fill:#e8f5e8,stroke:#2e7d32,stroke-width:3px,font-weight:bold
    classDef agentClass fill:#e3f2fd,stroke:#1565c0,stroke-width:2px,font-weight:bold
    classDef toolClass fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef mcpClass fill:#e0f2f1,stroke:#00695c,stroke-width:2px
    classDef memoryClass fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    classDef nodeClass fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    classDef conditionClass fill:#ffebee,stroke:#c62828,stroke-width:2px
    
    class ReqDoc,DesignDoc inputClass
    class TaskSplitAgent,RequirementAnalyzer,DesignAnalyzer,TaskScheduler,TaskQueue,TaskPriority,ServiceTaskMap taskClass
    class WorkflowEngine,StateManager,PostgresCheckpointer workflowClass
    class GitMgmtNode,ServiceCodingNode,TestNode,GitCommitNode nodeClass
    class TaskDepCheck,ServiceCheck,TestCheck,QualityCheck conditionClass
    class GitManagerAgent,MicroserviceCodingAgent,TestAgent,ReviewAgent,GitCommitAgent agentClass
    class TaskTools,CodeGenTools,APITools,TestTools,GitTools toolClass
    class MCPManager,SpringCloudMCP,MavenMCP,GitMCP,OpenAPIMCP,JUnitMCP,SonarMCP,JpaMCP mcpClass
    class TaskMemory,ExecutionMemory,TaskSplitPrompts,ExecutionPrompts memoryClass