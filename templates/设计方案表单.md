设计文档 - {项目名称}

1. 系统架构设计

1.1 项目介绍
{project_info}

1.2 功能需求说明

{["function_requirements_info":{
    “adjust_info”:"调整说明:本期，对原"链数额度"功能做如下调整：
- 功能名称由 链数额度 变更为 额度管理 ；
- 页面右上方新增 组织单元额度 按钮，当且仅当当前登录企业为多组织企业时展示该按钮。用户点击 组织单元额度 按钮，则跳转至 组织单元额度 列表页。
- 列表新增字段"额度类型"，置于 额度名称 之后，若为链数额度则取值为链数额度。",
    "filter_field": "筛选字段"，
    “list_field”:"列表字段",
    "total_field":"汇总字段"，
    “remarks”:"备注或特殊要求"
}
]}

1.3 总体架构
{project_architecture}

- 涉及{service_numbers}个后端服务：
{service_numbers: 2,
 service_info:
    ["service_name":"服务中文名",
    "service_english_name" : "zqyl-user-center-service"
    ]
}

- 涉及2个数据库：
{
    "data_resources":2
    "data_info":[
        "data_type":"mysql"
    ]
}


1.4 技术栈选型
{technology}

2. 服务设计

{[
    "service_name":"用户服务",
    "service_english_name": "zqyl-user-center-service",
    "service_duty":"用户管理、权限控制、角色管理"
    "core_modules":“- 组织单元模块 
                    - 用户注册模块”
    "API设计" : [
        “interface_type”:"新增",
        "uri":"/general/multiorgManage/queryCompanyUnitList",
        "methond","GET|POST",
        "description":"查询企业组织单元列表",
        “request_params”: "{入参json}",
        "response_params":"{返参json}",
        "data_table_sql":"CREATE TABLE t_cust_multiorg_unit(
  id bigint(20) NOT NULL COMMENT '主键id',
  company_id bigint(20) NOT NULL COMMENT '企业id',
  mutilorg_id bigint(10) NOT NULL COMMENT '多组织id',
  unit_code varchar(50) NOT NULL COMMENT '组织单元编号',
  unit_name varchar(255) NOT NULL COMMENT '组织单元名称',
  remark varchar(500) DEFAULT NULL COMMENT '备注',
  platform_type tinyint(2) NOT NULL COMMENT '平台类型(1云信2云租3云保)',
  status tinyint(2) NOT NULL COMMENT '状态1正常0删除',
  create_id bigint(20) NOT NULL COMMENT '创建人id',
  oper_user_name varchar(255) DEFAULT NULL COMMENT '创建人用户名',
  create_time datetime NOT NULL COMMENT '创建时间',
  modify_id bigint(20) DEFAULT NULL COMMENT '修改人id',
  modify_user_name varchar(255) DEFAULT NULL COMMENT '最后修改用户名',
  modify_time datetime DEFAULT NULL COMMENT '修改时间',
  PRIMARY KEY(id),
  KEY pk_company_id(company_id) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='多组织单元表';"],
        "dependence_service":["user-auth"],
        "special_requirements" :"特殊要求",
]}



3 执行要求

3.1 涉及服务范围
本次没有新增服务，服务范围为：
{[
    "service_name":"用户服务"，
    “service_english_name”: "zayl-user-center-service",
    "gitlab":"http://localhost:30000/ls/zqyl-user-center-service.git"
]}

3.2 涉及数据库范围
{
    "data_scope":"本次没有新增数据库"，
    “involve_data" : ["data_type":"mysql","url_config":"jdbc:mysql://localhost:6446/dbwebappdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&characterEncoding=utf8&useUnicode=true",
    "username_config":dbwebapp,
    "password":dbwebapp,
    "driver-class-name" : "com.mysql.cj.jdbc.Driver"
    ],
    "invole_cache":["data_type":"redis","host_config":"localhost","port_config":"6379","db_config":0,"password_config": 0]

}



3.3 涉及接口范围
{"scope_interface":"本次新增接口，已经按服务范围进行划分，详见设计文档2服务设计部分。"}
