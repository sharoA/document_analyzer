POST /api/file/upload - 文件上传
GET /api/file/parsing/{task_id} - 获取解析状态
POST /api/file/analyze/{task_id} - 内容分析
POST /api/file/ai-analyze/{task_id} - AI设计方案
GET /api/file/result/{task_id} - 获取完整结果



 "chat": "/api/chat",
            "health": "/api/health",
            "sessions": "/api/sessions",
            "file_upload": "/api/file/upload",
            "file_list": "/api/file/list",
            "file_delete": "/api/file/delete/<task_id>",
            "parsing_status": "/api/file/parsing/<task_id>",
            "content_analysis": "/api/file/analyze/<task_id>",
            "ai_analysis": "/api/file/ai-analyze/<task_id>",
            "analysis_result": "/api/file/result/<task_id>



            ### 接口列表
POST /api/file/upload # 文件上传，返回task_id
POST /api/file/parsing/{task_id} # 启动文档解析
返回
# 构建文档解析结果对象
            parsing_object = {
                "interface_name": "文档解析",
                "status": "completed" if parsing_result else "pending",
                "data": {
                    "text_content": parsing_result.get("text_content", ""),
                    "file_type": parsing_result.get("file_type", "unknown"),
                    "file_size": parsing_result.get("file_size", 0),
                    "analysis_method": parsing_result.get("analysis_method", "basic"),
                    "char_count": parsing_result.get("char_count", 0),
                    "line_count": parsing_result.get("line_count", 0),
                    "message": parsing_result.get("message", ""),
                    "summary": parsing_result.get("summary", ""),
                    "keywords": parsing_result.get("keywords", [])
                },
                "metadata": {
                    "processing_time": parsing_result.get("processing_time", 0),
                    "success": bool(parsing_result),
                    "timestamp": 
                }
            }




POST /api/file/analyze/{task_id} # 启动内容分析
返回
 # 构建内容分析结果对象
            content_object = {
                "interface_name": "内容分析",
                "status": "completed" if content_analysis else "pending",
                "data": {
                    "content_type": content_analysis.get("content_type", "document"),
                    "document_type": content_analysis.get("document_type", "未知"),
                    "language": content_analysis.get("language", "zh-CN"),
                    "word_count": content_analysis.get("word_count", 0),
                    "char_count": content_analysis.get("char_count", 0),
                    "summary": content_analysis.get("summary", ""),
                    "keywords": content_analysis.get("keywords", []),
                    "complexity_level": content_analysis.get("complexity_level", "中等"),
                    "structure_analysis": content_analysis.get("structure_analysis", {
                        "paragraphs": 0,
                        "lines": 0,
                        "sections": 0
                    }),
                    "crud_analysis": content_analysis.get("crud_analysis", {
                        "operations": [],
                        "requirements": [],
                        "changes": [],
                        "total_operations": 0,
                        "operation_types": []
                    }),
                    "business_insights": content_analysis.get("business_insights", {
                        "main_functions": [],
                        "technical_requirements": [],
                        "estimated_development_time": "0天",
                        "priority_features": []
                    })
                },
                "metadata": {
                    "analysis_version": content_analysis.get("analysis_metadata", {}).get("analysis_version", "2.0"),
                    "confidence_score": content_analysis.get("analysis_metadata", {}).get("confidence_score", 0.0),
                    "analyzed_at": content_analysis.get("analysis_metadata", {}).get("analyzed_at", ""),
                    "parsing_input_used": content_analysis.get("analysis_metadata", {}).get("parsing_input_used", False),
                    "success": bool(content_analysis)
                }
            }



POST /api/file/ai-analyze/{task_id} # 启动AI设计方案
返回
    # 构建AI分析结果对象
            ai_object = {
                "interface_name": "AI设计方案",
                "status": "completed" if ai_analysis else "pending",
                "data": {
                    "analysis_type": ai_analysis.get("analysis_type", "comprehensive"),
                    "api_interfaces": ai_analysis.get("api_interfaces", []),
                    "mq_configuration": ai_analysis.get("mq_configuration", {}),
                    "technical_specifications": ai_analysis.get("technical_specifications", {}),
                    "implementation_priority": ai_analysis.get("implementation_priority", []),
                    "integration_points": ai_analysis.get("integration_points", []),
                    "ai_insights": ai_analysis.get("ai_insights", {
                        "api_interfaces": [],
                        "mq_configuration": {},
                        "technical_specifications": {},
                        "implementation_priority": [],
                        "integration_points": []
                    })
                },
                "metadata": {
                    "confidence_score": ai_analysis.get("confidence_score", 0.0),
                    "analysis_model": ai_analysis.get("analysis_model", ""),
                    "analysis_duration": ai_analysis.get("analysis_duration", 0.0),
                    "analyzed_at": ai_analysis.get("analyzed_at", ""),
                    "success": ai_analysis.get("success", False),
                    "input_data": ai_analysis.get("input_data", {
                        "crud_operations_processed": 0,
                        "content_analysis_used": False,
                        "document_type": "未知"
                    }),
                    "error": ai_analysis.get("error", "")
                }
            }



GET /api/file/progress/{task_id} # 查询所有节点进度（轮询调用）
GET /api/file/result/{task_id} # 获取最终完整结果